cordova.define("org.apache.cordova.core.file.FileReader",function(e,t,n){function c(e){s.defineGetterSetter(l.prototype,e,function(){return this._realReader[e]||null},function(t){this._realReader[e]=t})}function h(e,t){if(e.readyState==l.LOADING)throw new u(u.INVALID_STATE_ERR);e._result=null;e._error=null;e._readyState=l.LOADING;if(typeof t.fullPath!="string"){e._fileName="";return!0}e._fileName=t.fullPath;e.onloadstart&&e.onloadstart(new a("loadstart",{target:e}))}var r=e("cordova/exec"),i=e("cordova/modulemapper"),s=e("cordova/utils"),o=e("./File"),u=e("./FileError"),a=e("./ProgressEvent"),f=i.getOriginalSymbol(this,"FileReader"),l=function(){this._readyState=0;this._error=null;this._result=null;this._fileName="";this._realReader=f?new f:{}};l.EMPTY=0;l.LOADING=1;l.DONE=2;s.defineGetter(l.prototype,"readyState",function(){return this._fileName?this._readyState:this._realReader.readyState});s.defineGetter(l.prototype,"error",function(){return this._fileName?this._error:this._realReader.error});s.defineGetter(l.prototype,"result",function(){return this._fileName?this._result:this._realReader.result});c("onloadstart");c("onprogress");c("onload");c("onerror");c("onloadend");c("onabort");l.prototype.abort=function(){if(f&&!this._fileName)return this._realReader.abort();this._result=null;if(this._readyState==l.DONE||this._readyState==l.EMPTY)return;this._readyState=l.DONE;typeof this.onabort=="function"&&this.onabort(new a("abort",{target:this}));typeof this.onloadend=="function"&&this.onloadend(new a("loadend",{target:this}))};l.prototype.readAsText=function(e,t){if(h(this,e))return this._realReader.readAsText(e,t);var n=t?t:"UTF-8",i=this,s=[this._fileName,n,e.start,e.end];r(function(e){if(i._readyState===l.DONE)return;i._result=e;typeof i.onload=="function"&&i.onload(new a("load",{target:i}));i._readyState=l.DONE;typeof i.onloadend=="function"&&i.onloadend(new a("loadend",{target:i}))},function(e){if(i._readyState===l.DONE)return;i._readyState=l.DONE;i._result=null;i._error=new u(e);typeof i.onerror=="function"&&i.onerror(new a("error",{target:i}));typeof i.onloadend=="function"&&i.onloadend(new a("loadend",{target:i}))},"File","readAsText",s)};l.prototype.readAsDataURL=function(e){if(h(this,e))return this._realReader.readAsDataURL(e);var t=this,n=[this._fileName,e.start,e.end];r(function(e){if(t._readyState===l.DONE)return;t._readyState=l.DONE;t._result=e;typeof t.onload=="function"&&t.onload(new a("load",{target:t}));typeof t.onloadend=="function"&&t.onloadend(new a("loadend",{target:t}))},function(e){if(t._readyState===l.DONE)return;t._readyState=l.DONE;t._result=null;t._error=new u(e);typeof t.onerror=="function"&&t.onerror(new a("error",{target:t}));typeof t.onloadend=="function"&&t.onloadend(new a("loadend",{target:t}))},"File","readAsDataURL",n)};l.prototype.readAsBinaryString=function(e){if(h(this,e))return this._realReader.readAsBinaryString(e);var t=this,n=[this._fileName,e.start,e.end];r(function(e){if(t._readyState===l.DONE)return;t._readyState=l.DONE;t._result=e;typeof t.onload=="function"&&t.onload(new a("load",{target:t}));typeof t.onloadend=="function"&&t.onloadend(new a("loadend",{target:t}))},function(e){if(t._readyState===l.DONE)return;t._readyState=l.DONE;t._result=null;t._error=new u(e);typeof t.onerror=="function"&&t.onerror(new a("error",{target:t}));typeof t.onloadend=="function"&&t.onloadend(new a("loadend",{target:t}))},"File","readAsBinaryString",n)};l.prototype.readAsArrayBuffer=function(e){if(h(this,e))return this._realReader.readAsArrayBuffer(e);var t=this,n=[this._fileName,e.start,e.end];r(function(e){if(t._readyState===l.DONE)return;t._readyState=l.DONE;t._result=e;typeof t.onload=="function"&&t.onload(new a("load",{target:t}));typeof t.onloadend=="function"&&t.onloadend(new a("loadend",{target:t}))},function(e){if(t._readyState===l.DONE)return;t._readyState=l.DONE;t._result=null;t._error=new u(e);typeof t.onerror=="function"&&t.onerror(new a("error",{target:t}));typeof t.onloadend=="function"&&t.onloadend(new a("loadend",{target:t}))},"File","readAsArrayBuffer",n)};n.exports=l});